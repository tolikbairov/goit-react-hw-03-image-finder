{"version":3,"sources":["components/Loader/Loader.module.css","components/searchbar/Searchbar.js","services/pixabayApiService.js","components/Loader/Loader.js","components/Modal/Modal.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/App.js","index.js"],"names":["module","exports","SearchBar","state","searchQuery","handleQueryChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","className","type","onClick","this","autoComplete","autoFocus","placeholder","onChange","Component","BASE_URL","API_KEY","getImages","page","a","fetch","response","json","data","hits","LoaderSpiner","style","loader","color","height","width","timeout","Modal","handleKeyDown","e","code","onClose","handleBackdropeClick","target","window","addEventListener","removeEventListener","src","image","alt","ImageGalleryItem","modalImg","showModal","toggleModal","prev","largeImage","id","item","webformatURL","largeImageURL","console","log","ImageGallery","isHidden","gallery","loading","onLoadMoreBtnClick","scrollTo","top","document","documentElement","scrollHeight","behavior","prevProps","prevState","prevQuery","nextQuery","map","App","handleFormSubmit","autoClose","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.4da3eb38.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1qQru\"};","import React, { Component } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nexport default class SearchBar extends Component {\r\n  state = { searchQuery: \"\" };\r\n  handleQueryChange = (event) => {\r\n    this.setState({ searchQuery: event.currentTarget.value.toLowerCase() });\r\n  };\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    if (this.state.searchQuery.trim() === \"\") {\r\n      toast(\"строка поиска пустая\");\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.searchQuery);\r\n    this.setState({ searchQuery: \"\" });\r\n  };\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\">\r\n          <button\r\n            type=\"submit\"\r\n            className=\"SearchForm-button\"\r\n            onClick={this.handleSubmit}\r\n          >\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.searchQuery}\r\n            onChange={this.handleQueryChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","const BASE_URL = \"https://pixabay.com/api/\";\r\nconst API_KEY = \"23305129-dc426c4ab0f279a7253128e3a\";\r\n\r\nexport async function getImages(searchQuery, page) {\r\n  const response = await fetch(\r\n    `${BASE_URL}?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n  );\r\n  const data = await response.json();\r\n\r\n  return data.hits;\r\n}\r\n","import Loader from \"react-loader-spinner\";\r\nimport React, { Component } from \"react\";\r\nimport style from \"./Loader.module.css\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nexport default class LoaderSpiner extends Component {\r\n  render() {\r\n    return (\r\n      <div className={style.loader}>\r\n        <Loader\r\n          type=\"Puff\"\r\n          color=\"#00BFFF\"\r\n          height={100}\r\n          width={100}\r\n          timeout={1500} //1.5 secs\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass Modal extends Component {\r\n  state = {};\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose(e);\r\n    }\r\n  };\r\n\r\n  handleBackdropeClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose(e);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"Overlay\" onClick={this.handleBackdropeClick}>\r\n        <div className=\"Modal\">\r\n          <img src={this.props.image} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  image: PropTypes.string,\r\n};\r\n\r\nexport default Modal;\r\n","import React, { Component } from \"react\";\r\nimport Modal from \"../../Modal/Modal\";\r\n\r\nclass ImageGalleryItem extends Component {\r\n  state = {\r\n    modalImg: \"\",\r\n    showModal: false,\r\n  };\r\n  toggleModal = (e) => {\r\n    this.setState((prev) => ({\r\n      showModal: !prev.showModal,\r\n      largeImage: e.target.id || \"\",\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const { id, webformatURL, largeImageURL } = this.props.item;\r\n    console.log(id);\r\n    return (\r\n      <>\r\n        <li className=\"ImageGalleryItem\">\r\n          <img\r\n            src={webformatURL}\r\n            alt=\"\"\r\n            className=\"ImageGalleryItem-image\"\r\n            onClick={this.toggleModal}\r\n            id={largeImageURL}\r\n          />\r\n        </li>\r\n\r\n        {this.state.showModal && (\r\n          <Modal onClose={this.toggleModal} image={this.state.largeImage} />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import { Component } from \"react\";\r\nimport { getImages } from \"../../services/pixabayApiService\";\r\nimport LoaderSpiner from \"../Loader/Loader\";\r\nimport ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\";\r\n\r\n// import SearchBar from \"./Searchbar\";\r\nexport default class ImageGallery extends Component {\r\n  state = {\r\n    page: 1,\r\n    isHidden: false,\r\n    gallery: [],\r\n    loading: false,\r\n  };\r\n  async componentDidUpdate(prevProps, prevState) {\r\n    const prevQuery = prevProps.searchQuery;\r\n    const nextQuery = this.props.searchQuery;\r\n    if (prevQuery !== nextQuery) {\r\n      this.setState({ loading: true });\r\n      const gallery = await getImages(this.props.searchQuery, 1);\r\n      await this.setState((prev) => ({\r\n        gallery,\r\n        isHidden: true,\r\n        page: prev.page + 1,\r\n      }));\r\n      this.setState({ loading: false });\r\n    }\r\n  }\r\n  onLoadMoreBtnClick = async () => {\r\n    this.setState({ loading: true });\r\n    const gallery = await getImages(this.props.searchQuery, this.state.page);\r\n    this.setState((prev) => ({\r\n      gallery: [...prev.gallery, ...gallery],\r\n      isHidden: true,\r\n      page: prev.page + 1,\r\n    }));\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.state.loading && <LoaderSpiner />}\r\n        <ul className=\"ImageGallery\">\r\n          {this.state.gallery.map((item) => (\r\n            <ImageGalleryItem item={item} key={item.id} />\r\n          ))}\r\n        </ul>\r\n        {this.state.isHidden && (\r\n          <button\r\n            type=\"button\"\r\n            className=\"Button\"\r\n            onClick={this.onLoadMoreBtnClick}\r\n          >\r\n            Load more\r\n          </button>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\n\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport \"./App.css\";\n\nimport SearchBar from \"./searchbar/Searchbar\";\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\n// import ContactForm from \"./contact-form/contact-form\";\n// import ContactList from \"./contact-list/contact-list\";\nclass App extends Component {\n  state = { searchQuery: \"\" };\n  handleFormSubmit = (searchQuery) => {\n    this.setState({ searchQuery });\n  };\n  render() {\n    return (\n      <div>\n        <SearchBar onSubmit={this.handleFormSubmit} />\n        <ImageGallery searchQuery={this.state.searchQuery} />\n        <ToastContainer autoClose={3500} />\n      </div>\n    );\n  }\n}\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"./index.css\";\n// (\n//   <Painting\n//     src={data.avatar}\n//     name={data.name}\n//     tag={data.tag}\n//     location={data.location}\n//     followers={data.stats.followers}\n//     views={data.stats.views}\n//     likes={data.stats.likes}\n//   />\n// ),\nReactDOM.render(<App />, document.querySelector(\"#root\"));\n// ReactDOM.render(\n//   <React.StrictMode>\n//     <App />\n//   </React.StrictMode>,\n//   document.getElementById(\"root\")\n// );\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}