{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/searchbar/Searchbar.js","services/pixabayApiService.js","components/Loader/Loader.js","components/Modal/Modal.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/App/App.js","index.js","components/searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","searchQuery","handleQueryChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","className","style","SearchForm","type","onClick","this","autoComplete","autoFocus","placeholder","onChange","Component","BASE_URL","API_KEY","getImages","page","a","fetch","response","json","data","hits","LoaderSpiner","loader","color","height","width","timeout","Modal","handleKeyDown","e","code","onClose","handleBackdropeClick","target","window","addEventListener","removeEventListener","src","image","alt","ImageGalleryItem","modalImg","showModal","toggleModal","largeImageURL","prev","item","webformatURL","styles","id","ImageGallery","isHidden","gallery","loading","onLoadMoreBtnClick","scrollTo","top","document","documentElement","scrollHeight","behavior","prevProps","prevState","prevQuery","nextQuery","map","Button","App","handleFormSubmit","autoClose","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.26237d39.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3aeAn\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__26MQq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__12k6L\",\"Button\":\"ImageGallery_Button__-nWFm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1qQru\"};","import React, { Component } from \"react\";\nimport { toast } from \"react-toastify\";\nimport style from \"./Searchbar.module.css\";\nimport PropTypes from \"prop-types\";\nexport default class Searchbar extends Component {\n  state = { searchQuery: \"\" };\n  handleQueryChange = (event) => {\n    this.setState({ searchQuery: event.currentTarget.value.toLowerCase() });\n  };\n  handleSubmit = (event) => {\n    event.preventDefault();\n    if (this.state.searchQuery.trim() === \"\") {\n      toast(\"строка поиска пустая\");\n      return;\n    }\n    this.props.onSubmit(this.state.searchQuery);\n    this.setState({ searchQuery: \"\" });\n  };\n  render() {\n    return (\n      <header className={style.Searchbar}>\n        <form className={style.SearchForm}>\n          <button\n            type=\"submit\"\n            className={style[\"SearchForm-button\"]}\n            onClick={this.handleSubmit}\n          >\n            <span className={style[\"SearchForm-button-label\"]}>Search</span>\n          </button>\n\n          <input\n            className={style[\"SearchForm-input\"]}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.searchQuery}\n            onChange={this.handleQueryChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func,\n};\n","const BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"23305129-dc426c4ab0f279a7253128e3a\";\n\nexport async function getImages(searchQuery, page) {\n  const response = await fetch(\n    `${BASE_URL}?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n  );\n  const data = await response.json();\n\n  return data.hits;\n}\n","import Loader from \"react-loader-spinner\";\nimport React, { Component } from \"react\";\nimport style from \"./Loader.module.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nexport default class LoaderSpiner extends Component {\n  render() {\n    return (\n      <div className={style.loader}>\n        <Loader\n          type=\"Puff\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          timeout={1500} //1.5 secs\n        />\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nclass Modal extends Component {\n  state = {};\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose(e);\n    }\n  };\n\n  handleBackdropeClick = (e) => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose(e);\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"Overlay\" onClick={this.handleBackdropeClick}>\n        <div className=\"Modal\">\n          <img src={this.props.image} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  image: PropTypes.string,\n  onClose: PropTypes.func,\n};\n\nexport default Modal;\n","import React, { Component } from \"react\";\nimport Modal from \"../../Modal/Modal\";\nimport styles from \"./ImageGalleryItem.module.css\";\nimport PropTypes from \"prop-types\";\nclass ImageGalleryItem extends Component {\n  state = {\n    modalImg: \"\",\n    showModal: false,\n  };\n  toggleModal = (largeImageURL) => {\n    // console.log(largeImageURL);\n    this.setState((prev) => ({\n      showModal: !prev.showModal,\n      modalImg: largeImageURL,\n    }));\n  };\n\n  render() {\n    const { webformatURL, largeImageURL } = this.props.item;\n\n    return (\n      <>\n        <li className={styles.ImageGalleryItem}>\n          <img\n            src={webformatURL}\n            alt=\"\"\n            className={styles[\"ImageGalleryItem-image\"]}\n            onClick={() => {\n              this.toggleModal(largeImageURL);\n            }}\n            id={largeImageURL}\n          />\n        </li>\n\n        {this.state.showModal && (\n          <Modal onClose={this.toggleModal} image={this.state.modalImg} />\n        )}\n      </>\n    );\n  }\n}\n\nexport default ImageGalleryItem;\nImageGalleryItem.propTypes = {\n  item: PropTypes.shape({\n    webformatURL: PropTypes.string,\n    largeImageURL: PropTypes.string,\n  }),\n};\n","import { Component } from \"react\";\nimport { getImages } from \"../../services/pixabayApiService\";\nimport LoaderSpiner from \"../Loader/Loader\";\nimport ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\";\nimport styles from \"./ImageGallery.module.css\";\nimport PropTypes from \"prop-types\";\n\nexport default class ImageGallery extends Component {\n  state = {\n    page: 1,\n    isHidden: false,\n    gallery: [],\n    loading: false,\n  };\n  async componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevProps.searchQuery;\n    const nextQuery = this.props.searchQuery;\n    if (prevQuery !== nextQuery) {\n      this.setState({ loading: true });\n      const gallery = await getImages(this.props.searchQuery, 1);\n      await this.setState((prev) => ({\n        gallery,\n        isHidden: true,\n        page: prev.page + 1,\n      }));\n      this.setState({ loading: false });\n    }\n  }\n  onLoadMoreBtnClick = async () => {\n    this.setState({ loading: true });\n    const gallery = await getImages(this.props.searchQuery, this.state.page);\n    this.setState((prev) => ({\n      gallery: [...prev.gallery, ...gallery],\n      isHidden: true,\n      page: prev.page + 1,\n    }));\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n  render() {\n    return (\n      <>\n        {this.state.loading && <LoaderSpiner />}\n        <ul className={styles.ImageGallery}>\n          {this.state.gallery.map((item) => (\n            <ImageGalleryItem item={item} key={item.id} />\n          ))}\n        </ul>\n        {this.state.isHidden && (\n          <button\n            type=\"button\"\n            className={styles.Button}\n            onClick={this.onLoadMoreBtnClick}\n          >\n            Load more\n          </button>\n        )}\n      </>\n    );\n  }\n}\nImageGallery.propTypes = {\n  searchQuery: PropTypes.string,\n};\n","import React, { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\n\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport \"./App.css\";\n\nimport Searchbar from \"../searchbar/Searchbar\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\n// import ContactForm from \"./contact-form/contact-form\";\n// import ContactList from \"./contact-list/contact-list\";\nclass App extends Component {\n  state = { searchQuery: \"\" };\n  handleFormSubmit = (searchQuery) => {\n    this.setState({ searchQuery });\n  };\n  render() {\n    return (\n      <div>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery searchQuery={this.state.searchQuery} />\n        <ToastContainer autoClose={3500} />\n      </div>\n    );\n  }\n}\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./components/App/App\";\nimport \"./index.css\";\n// (\n//   <Painting\n//     src={data.avatar}\n//     name={data.name}\n//     tag={data.tag}\n//     location={data.location}\n//     followers={data.stats.followers}\n//     views={data.stats.views}\n//     likes={data.stats.likes}\n//   />\n// ),\nReactDOM.render(<App />, document.querySelector(\"#root\"));\n// ReactDOM.render(\n//   <React.StrictMode>\n//     <App />\n//   </React.StrictMode>,\n//   document.getElementById(\"root\")\n// );\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"Searchbar_SearchForm__2ED5p\",\"SearchForm-button\":\"Searchbar_SearchForm-button__1ppbP\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__2QHrE\",\"SearchForm-input\":\"Searchbar_SearchForm-input__2LPZT\",\"Searchbar\":\"Searchbar_Searchbar__11YIj\"};"],"sourceRoot":""}